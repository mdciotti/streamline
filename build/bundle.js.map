{"version":3,"sources":["webpack:///webpack/bootstrap b5539844aabf6edf4709","webpack:///./main.js","webpack:///./src/StreamField.js","webpack:///./src/FieldFeature.js","webpack:///./src/Streamline.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b5539844aabf6edf4709\n **/","\"use strict\";\n\nimport StreamField from './src/StreamField.js';\nimport FieldFeature from './src/FieldFeature.js';\n// import Vec2 from './src/Vec2.js';\n\nwindow.vortex = new StreamField();\nlet wasPaused = vortex.paused;\nlet zoomFactor = 0.8;\nlet mouse = {\n\tx: 0,\n\ty: 0,\n\tlastx: 0,\n\tlasty: 0,\n\tdx: 0,\n\tdy: 0,\n\tdown: false\n};\nlet key = {\n\tctrl: false\n};\n\nlet field = new FieldFeature({\n\tFx: function (x, y) { return x; },\n\tFy: function (x, y) { return -y; },\n\tstrength: 1\n});\nlet field2 = new FieldFeature({\n\tFx: function (x, y) { return y; },\n\tFy: function (x, y) { return x; },\n\tstrength: 1\n});\nlet ccw = new FieldFeature({\n\tFx: function (x, y) { return -y; },\n\tFy: function (x, y) { return x; },\n\tstrength: 1\n});\nlet ccw2 = new FieldFeature({\n\tFx: function (x, y) { return -y / Math.hypot(x, y); },\n\tFy: function (x, y) { return x / Math.hypot(x, y); },\n\tstrength: 1\n});\nlet ccw3 = new FieldFeature({\n\tFx: function (x, y) { return -y / Math.hypot(x, y) / Math.exp((x*x + y*y) * 2); },\n\tFy: function (x, y) { return x / Math.hypot(x, y) / Math.exp((x*x + y*y) * 2); },\n\tstrength: 1\n});\nlet suck = new FieldFeature({\n\tFx: function (x, y) { return -x / Math.hypot(x, y); },\n\tFy: function (x, y) { return -y / Math.hypot(x, y); },\n\tstrength: 1\n});\nlet suck2 = new FieldFeature({\n\tFx: function (x, y) { return -x; },\n\tFy: function (x, y) { return -y; },\n\tstrength: 1\n});\nlet flowField = new FieldFeature({\n\tFx: function (x, y) { return 1; }\n});\nlet wave = new FieldFeature({\n\tFy: function (x, y) { return Math.sin(Math.PI*x); },\n\tstrength: 0.2\n});\nlet repel = new FieldFeature({\n\tFx: function (x, y) { return x / Math.hypot(x, y) / Math.exp((x*x + y*y) * 8); },\n\tFy: function (x, y) { return y / Math.hypot(x, y) / Math.exp((x*x + y*y) * 8); },\n\tstrength: 2,\n\tenabled: false\n});\n\n// vortex.addFeature(ccw3);\n// vortex.addFeature(flowField);\n// vortex.addFeature(wave);\n// vortex.addFeature(repel);\n\nwindow.addEventListener(\"load\", (e) => {\n\tvortex.canvas.width = window.innerWidth;\n\tvortex.canvas.height = window.innerHeight;\n\tdocument.body.appendChild(vortex.canvas);\n\tvortex.setViewbox(0, 0, window.innerWidth, window.innerHeight);\n\t// vortex.fieldLines = true;\n\tvortex.fieldSize = 40;\n\tvortex.lineWidth = 1.5;\n\tvortex.setMotionBlur(0.8);\n\tvortex.wrap = true;\n\tvortex.streamCount = 1000;\n\tvortex.background = \"#FF6060\";\n\tvortex.foreground = \"#FFFFFF\";\n\tvortex.setSpeed(-0.5);\n\tvortex.toggleState();\n\n\tvortex.init = function () {\n\t\tlet featureList = [ccw3, ccw3];\n\n\t\tfor (let i = 0; i < 10; i++) {\n\t\t\tlet feature = featureList[Math.floor(Math.random() * featureList.length)].clone();\n\t\t\tfeature.x = vortex.getXCoordinate(Math.random() * vortex.canvas.width);\n\t\t\tfeature.y = vortex.getYCoordinate(Math.random() * vortex.canvas.height);\n\t\t\tfeature.strength = Math.random() < 0.5 ? -1 : 1;\n\t\t\tfeature.vx = Math.random() * 2 - 1;\n\t\t\tfeature.vy = Math.random() * 2 - 1;\n\t\t\tvortex.addFeature(feature);\n\t\t}\n\t\tvortex.addFeature(repel);\n\t};\n\n\tvortex.reset();\n\n\tvortex.canvas.addEventListener(\"mousedown\", (e) => mouse.down = true);\n\n\tvortex.canvas.addEventListener(\"mouseup\", (e) => mouse.down = false);\n\n\tvortex.canvas.addEventListener(\"mousemove\", (e) => {\n\t\tmouse.lastx = mouse.x;\n\t\tmouse.lasty = mouse.y;\n\t\tmouse.x = e.clientX;\n\t\tmouse.y = e.clientY;\n\t\tmouse.dx = mouse.x - mouse.lastx;\n\t\tmouse.dy = mouse.y - mouse.lasty;\n\t\tif (mouse.down) {\n\t\t\tvortex.translate(mouse.dx, mouse.dy);\n\t\t}\n\t\trepel.x = vortex.getXCoordinate(mouse.x);\n\t\trepel.y = vortex.getYCoordinate(mouse.y);\n\t});\n\n\tlet gui = new dat.GUI();\n\tlet style = gui.addFolder(\"Style\");\n\tstyle.addColor(vortex, \"background\");\n\tstyle.addColor(vortex, \"foreground\");\n\tstyle.add(vortex, \"motionBlur\", 0, 1).step(0.01).onChange(vortex.setMotionBlur.bind(vortex));\n\tstyle.add(vortex, \"lineWidth\", 0, 10).step(0.1);\n\tstyle.add(vortex, \"transparent\");\n\t// style.open();\n\n\tlet field = gui.addFolder(\"Field Options\");\n\tfield.add(vortex, \"drawFeatures\");\n\tfield.add(vortex, \"fieldGradient\");\n\tfield.add(vortex, \"fieldLines\");\n\tfield.add(vortex, \"fieldSize\", 0, 100).step(2);\n\tfield.add(vortex, \"fieldScale\", 0, 1).step(0.1);\n\t// field.open();\n\n\t// let flow = gui.addFolder(\"Flow Options\");\n\t// flow.add(flowField, \"strength\", -5, 5).step(0.5);\n\t// flow.add(wave, \"strength\", -5, 5).step(0.5);\n\t// flow.add(repel, \"strength\", -5, 5).step(0.5);\n\t// flow.open();\n\n\tgui.add(vortex, \"zoom\", 0, 1000).step(10).listen().onChange(vortex.setZoom.bind(vortex));\n\tgui.add(vortex, \"log_speed\", -1, 1).step(0.01).onChange(vortex.setSpeed.bind(vortex));\n\tgui.add(vortex, \"lifeSpan\", 0, 10).step(1);\n\tgui.add(vortex, \"streamCount\", 0, 1000).step(10);\n\tgui.add(vortex, \"wrap\");\n\tgui.add(vortex, \"paused\").listen();\n\tgui.add(vortex, \"reset\");\n});\n\nwindow.addEventListener(\"focus\", (e) => vortex.paused = wasPaused);\n\nwindow.addEventListener(\"blur\", (e) => {\n\twasPaused = vortex.paused;\n\tvortex.paused = true;\n});\n\nwindow.addEventListener(\"mousewheel\", (e) => {\n\tif (e.wheelDeltaY < 0) {\n\t\tvortex.zoom *= zoomFactor;\n\t} else {\n\t\tvortex.zoom /= zoomFactor;\n\t}\n\tvortex.setViewbox(0, 0, window.innerWidth, window.innerHeight);\n});\n\nwindow.addEventListener(\"keydown\", (e) => {\n\tif (e.which === \"H\".charCodeAt(0)) {\n\t\tdocument.querySelector(\".info\").classList.toggle(\"hidden\");\n\t} else if (e.ctrlKey || e.which === 17) {\n\t\tkey.ctrl = true;\n\t\trepel.enabled = true;\n\t}\n});\n\nwindow.addEventListener(\"keyup\", (e) => {\n\tif (e.ctrlKey || e.which === 17) {\n\t\tkey.ctrl = false;\n\t\trepel.enabled = false;\n\t}\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./main.js\n **/","/*\n * Streamline.js\n * Streamline is a vector field simulator.\n * Preview: http://mdciotti.github.io/streamline\n * Author: Maxwell Ciotti - @mdciotti - http://mdc.io\n * License: MIT\n */\n\n\"use strict\";\n\nimport FieldFeature from './FieldFeature.js';\nimport Streamline from './Streamline.js';\n// import Vec2 from './Vec2.js';\n\nconst TO_DEGREES = 180 / Math.PI;\n\nexport default class StreamField {\n\tconstructor() {\n\t\tthis.running = false;\n\t\tthis.canvas = document.createElement(\"canvas\");\n\t\tthis.ctx = this.canvas.getContext('2d');\n\t\t// var EPSILON = 1e-3;\n\t\tthis.EPSILON = 1e-2;\n\t\tthis.paused = false;\n\t\tthis.canvas.width = 300;\n\t\tthis.canvas.height = 300;\n\t\t// document.body.appendChild(this.canvas);\n\t\tthis.streamlines = [];\n\t\tthis.features = [];\n\t\t// this.bounds = { left: 0, top: 0, width: }\n\t\tthis.viewbox = {\n\t\t\ttop: 0.5,\n\t\t\tright: 0.5,\n\t\t\tbottom: -0.5,\n\t\t\tleft: 0.5,\n\t\t\twidth: 1,\n\t\t\theight: 1,\n\t\t\torigin: { x: 0, y: 0 }\n\t\t};\n\n\t\t// Configurable options\n\t\tthis.background = \"#000000\";\n\t\tthis.foreground = \"#CCCCCC\";\n\t\tthis.motionBlur = 0.0;\n\t\tthis.opacity = 1.0;\n\t\tthis.transparent = false;\n\t\tthis.lineWidth = 1;\n\t\tthis.drawFeatures = false;\n\t\tthis.fieldGradient = false;\n\t\tthis.fieldLines = false;\n\t\tthis.fieldSize = 20;\n\t\tthis.fieldScale = 0.5;\n\t\tthis.speed = 1;\n\t\tthis.log_speed = 0;\n\t\tthis.zoom = 300;\n\t\tthis.wrap = false;\n\t\tthis.lifeSpan = 5;\n\t\tthis.streamCount = 100;\n\t\tthis.realTime = false;\n\t}\n\n\t// Converts pixel-based coordinates to simulation coordinates\n\tgetXCoordinate(x) {\n\t\treturn (x - this.canvas.width / 2) / this.zoom;\n\t}\n\tgetYCoordinate(y) {\n\t\treturn -(y - this.canvas.height / 2) / this.zoom;\n\t}\n\n\tsetSpeed(logSpeed) {\n\t\tthis.speed = Math.pow(10, logSpeed);\n\t\tthis.log_speed = logSpeed;\n\t}\n\n\tsetMotionBlur(blur) {\n\t\tthis.opacity = 1.0 - Math.pow(blur, 0.1);\n\t\tthis.motionBlur = blur;\n\t}\n\n\tsetZoom(z) {\n\t\tthis.zoom = z;\n\t\t// this.setViewbox(null, null, this.canvas.width, this.canvas.height);\n\t\tthis.viewbox.width = this.canvas.width / this.zoom;\n\t\tthis.viewbox.height = this.canvas.height / this.zoom;\n\t}\n\n\tsetViewbox(originX, originY, width, height) {\n\t\tthis.viewbox.width = typeof width === \"number\" ? width / this.zoom : this.viewbox.width;\n\t\tthis.viewbox.height = typeof height === \"number\" ? height / this.zoom : this.viewbox.height;\n\t\tthis.viewbox.origin.x = typeof originX === \"number\" ? originX / this.zoom : this.viewbox.origin.x;\n\t\tthis.viewbox.origin.y = typeof originY === \"number\" ? originY / this.zoom : this.viewbox.origin.y;\n\t\tthis.viewbox.left = this.viewbox.origin.x - this.viewbox.width / 2;\n\t\tthis.viewbox.bottom = this.viewbox.origin.y - this.viewbox.height / 2;\n\t\tthis.viewbox.right = this.viewbox.left + this.viewbox.width;\n\t\tthis.viewbox.top = this.viewbox.bottom + this.viewbox.height;\n\t}\n\n\ttranslate(dx, dy) {\n\t\t// this.setViewbox(this.viewbox.origin.x * this.zoom + dx, this.viewbox.origin.y * this.zoom - dy);\n\t\tdx /= this.zoom;\n\t\tdy /= this.zoom;\n\n\t\tthis.viewbox.origin.x += dx;\n\t\tthis.viewbox.origin.y -= dy;\n\t\tthis.viewbox.left -= dx;\n\t\tthis.viewbox.bottom += dy;\n\t\tthis.viewbox.right -= dx;\n\t\tthis.viewbox.top += dy;\n\t}\n\n\taddStream(stream) {\n\t\tif (typeof stream === \"object\" && stream instanceof Streamline) {\n\t\t\tthis.streamlines.push(stream);\n\t\t} else {\n\t\t\tthis.streamlines.push(new Streamline());\n\t\t}\n\t}\n\n\taddFeature(features) {\n\t\t// if (typeof features === \"object\" && features instanceof FieldFeature) {\n\t\t\tthis.features.push(features);\n\t\t// } else {\n\t\t\t// TODO: Error logging\n\t\t// }\n\t}\n\n\tadd(item) {\n\t\tif (typeof item === \"object\") {\n\t\t\tif (item instanceof FieldFeature) this.features.push(item);\n\t\t\telse if (item instanceof Streamline) this.streamlines.push(item);\n\t\t\t// else // TODO: Error logging\n\t\t} else {\n\t\t\t// TODO: Error logging\n\t\t}\n\t}\n\n\tresetViewbox() {\n\t\tlet w = this.canvas.width = window.innerWidth;\n\t\tlet h = this.canvas.height = window.innerHeight;\n\t\tthis.zoom = 300;\n\t\tthis.setViewbox(0, 0, w, h);\n\t}\n\n\tinit() {}\n\n\treset(init) {\n\t\tthis.streamlines = [];\n\t\tthis.features = [];\n\n\t\tthis.resetViewbox();\n\n\t\tif (!this.transparent) {\n\t\t\tthis.ctx.globalAlpha = 1;\n\t\t\tthis.ctx.fillStyle = this.background;\n\t\t\tthis.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\n\t\t\tthis.ctx.globalAlpha = this.opacity;\n\t\t\tthis.ctx.fillStyle = this.foreground;\n\t\t\tthis.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n\t\t}\n\n\t\tif (typeof init === \"function\") {\n\t\t\tinit.call(this);\n\t\t} else {\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tapplyFeatures(dt) {\n\t\tfor (let s = this.streamlines.length - 1; s >= 0; s--) {\n\t\t\tthis.streamlines[s].vx = 0;\n\t\t\tthis.streamlines[s].vy = 0;\n\t\t\tthis.streamlines[s].applyFeatures(this.features);\n\t\t}\n\t}\n\n\tupdate(dt) {\n\t\t// Update features\n\t\tfor (let i = this.features.length - 1; i >= 0; i--) {\n\t\t\tlet feature = this.features[i];\n\t\t\tfeature.update(dt);\n\n\t\t\t// Wrap around edges (torus geometry)\n\t\t\tif (this.wrap) {\n\t\t\t\twhile (feature.x < this.viewbox.left) feature.x += this.viewbox.width;\n\t\t\t\twhile (feature.x > this.viewbox.right) feature.x -= this.viewbox.width;\n\t\t\t\twhile (feature.y < this.viewbox.bottom) feature.y += this.viewbox.height;\n\t\t\t\twhile (feature.y > this.viewbox.top) feature.y -= this.viewbox.height;\n\t\t\t}\n\t\t}\n\n\t\t// Update streamlines\n\t\tfor (let i = this.streamlines.length - 1; i >= 0; i--) {\n\t\t\tlet stream = this.streamlines[i];\n\t\t\tstream.update(dt);\n\t\t\t// let radius = Math.hypot(stream.x, stream.y);\n\t\t\t\n\t\t\t// TODO: custom bounds for feature?\n\t\t\t// if (radius < this.EPSILON || radius > 1) {\n\t\t\t// if (radius < this.EPSILON) {\n\t\t\t// \tthis.streamlines.splice(i, 1);\n\t\t\t// }\n\n\t\t\t// Remove when too old\n\t\t\tif (this.lifeSpan > 0) {\n\t\t\t\t// let now = Date.now();\n\t\t\t\t// if (Date.now() - stream.timestamp > this.lifeSpan * 1000) {\n\t\t\t\tif (Math.random() * this.lifeSpan < 0.01) {\n\t\t\t\t\tthis.streamlines.splice(i, 1);\n\t\t\t\t\t// this.streamlines[i] = new Streamline();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Wrap around edges (torus geometry)\n\t\t\tif (this.wrap) {\n\t\t\t\twhile (stream.x < this.viewbox.left) stream.x += this.viewbox.width;\n\t\t\t\twhile (stream.x > this.viewbox.right) stream.x -= this.viewbox.width;\n\t\t\t\twhile (stream.y < this.viewbox.bottom) stream.y += this.viewbox.height;\n\t\t\t\twhile (stream.y > this.viewbox.top) stream.y -= this.viewbox.height;\n\t\t\t}\n\t\t}\n\t}\n\n\tgetv(x, y) {\n\t\tlet v = { x: 0, y: 0 };\n\n\t\tfor (let f = this.features.length - 1; f >= 0; f--) {\n\t\t\tlet field = this.features[f];\n\t\t\tif (field.enabled) {\n\t\t\t\tv.x += field.strength * field.getvx(x, y);\n\t\t\t\tv.y += field.strength * field.getvy(x, y);\n\t\t\t}\n\t\t}\n\n\t\treturn v;\n\t}\n\n\tdraw(dt) {\n\t\tlet w = this.canvas.width,\n\t\t\th = this.canvas.height;\n\t\t\n\t\t// No background if transparent\n\t\tif (!this.transparent) {\n\t\t\tthis.ctx.globalAlpha = this.opacity;\n\t\t\tthis.ctx.fillStyle = this.background;\n\t\t\tthis.ctx.fillRect(0, 0, w, h);\n\t\t} else {\n\t\t\tthis.ctx.clearRect(0, 0, w, h);\n\t\t}\n\t\t\n\t\tthis.ctx.save();\n\t\tthis.ctx.globalAlpha = 1.0;\n\t\t\n\t\t// Set origin to center, flip vertical axis\n\t\tthis.ctx.translate(w / 2, h / 2);\n\t\tthis.ctx.scale(1, -1);\n\t\tthis.ctx.scale(this.zoom, this.zoom);\n\t\tthis.ctx.translate(this.viewbox.origin.x, this.viewbox.origin.y);\n\t\t\n\t\t// Draw field gradient\n\t\tif (this.fieldGradient) {\n\t\t\tlet x, y, v, vx, vy, hue, sat;\n\t\t\t// Sample parameters\n\t\t\tlet n = this.fieldSize;\n\t\t\t// let unit = 1 / n;\n\t\t\t// let s_w = w / n;\n\t\t\t// let s_h = h / n;\n\t\t\tlet nx = this.canvas.width / this.fieldSize;\n\t\t\tlet ny = this.canvas.height / this.fieldSize;\n\t\t\tlet sampleSize = this.fieldSize / this.zoom;\n\n\t\t\tfor (let j = 0; j < ny; j++) {\n\t\t\t\tfor (let i = 0; i < nx; i++) {\n\n\t\t\t\t\tx = (i * this.fieldSize - this.canvas.width / 2) / this.zoom;\n\t\t\t\t\ty = (j * this.fieldSize - this.canvas.height / 2) / this.zoom;\n\t\t\t\t\tv = this.getv(x, y);\n\n\t\t\t\t\thue = Math.floor(Math.atan2(v.y, v.x) * TO_DEGREES + 180);\n\t\t\t\t\tsat = Math.floor(Math.min(Math.hypot(v.x, v.y) * this.fieldScale, 1) * 100);\n\t\t\t\t\tthis.ctx.fillStyle = \"hsl(\" + hue + \", \" + sat + \"%, 50%)\";\n\t\t\t\t\tthis.ctx.fillRect(x - sampleSize/2, y - sampleSize/2, sampleSize, sampleSize);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t// Draw all field lines\n\t\tif (this.fieldLines) {\n\t\t\tthis.ctx.save();\n\t\t\tthis.ctx.globalAlpha = 0.25;\n\t\t\tthis.ctx.strokeStyle = \"#FFFFFF\";\n\t\t\tthis.ctx.lineWidth = 1 / this.zoom;\n\t\t\tthis.ctx.beginPath();\n\n\t\t\tlet x, y, v;\n\t\t\t// Sample parameters\n\t\t\t// let n = this.fieldSize;\n\t\t\t// let unit = 1 / n;\n\t\t\t// let max_len = this.fieldScale;\n\t\t\tlet scale = 0.01;\n\t\t\tlet nx = this.canvas.width / this.fieldSize;\n\t\t\tlet ny = this.canvas.height / this.fieldSize;\n\n\t\t\tfor (let j = 0; j < ny; j++) {\n\t\t\t\tfor (let i = 0; i < nx; i++) {\n\n\t\t\t\t\tx = (i * this.fieldSize - this.canvas.width / 2) / this.zoom;\n\t\t\t\t\ty = (j * this.fieldSize - this.canvas.height / 2) / this.zoom;\n\t\t\t\t\tv = this.getv(x, y);\n\n\t\t\t\t\tthis.ctx.moveTo(\n\t\t\t\t\t\t(x - v.x * scale),\n\t\t\t\t\t\t(y - v.y * scale)\n\t\t\t\t\t);\n\t\t\t\t\tthis.ctx.lineTo(\n\t\t\t\t\t\t(x + v.x * scale),\n\t\t\t\t\t\t(y + v.y * scale)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.ctx.stroke();\n\t\t\tthis.ctx.restore();\n\t\t}\n\n\t\t// Draw all streamlines\n\t\t// this.ctx.fillStyle = this.foreground;\n\t\t// let radius = this.lineWidth / this.zoom;\n\t\tthis.ctx.strokeStyle = this.foreground;\n\t\tthis.ctx.lineWidth = this.lineWidth / this.zoom;\n\t\tthis.ctx.beginPath();\n\t\t\n\t\tfor (let i = this.streamlines.length - 1; i >= 0; i--) {\n\t\t\t// this.streamlines[i].draw(this.ctx);\n\t\t\tlet stream = this.streamlines[i];\n\t\t\tstream.scale = dt;\n\t\t\t// this.ctx.fillRect(stream.x, stream.y, radius, radius);\n\t\t\tthis.ctx.moveTo(\n\t\t\t\tstream.x,\n\t\t\t\tstream.y\n\t\t\t);\n\t\t\tthis.ctx.lineTo(\n\t\t\t\t(stream.x + stream.vx * stream.scale),\n\t\t\t\t(stream.y + stream.vy * stream.scale)\n\t\t\t);\n\t\t}\n\t\tthis.ctx.stroke();\n\n\t\t// Draw all features\n\t\tif (this.drawFeatures) {\n\t\t\tthis.ctx.strokeStyle = \"#0000ff\";\n\t\t\tthis.ctx.beginPath();\n\t\t\tfor (let i = this.features.length - 1; i >= 0; i--) {\n\t\t\t\tlet feature = this.features[i];\n\t\t\t\tif (!feature.enabled) continue;\n\t\t\t\tlet r = Math.abs(feature.strength * 10) / this.zoom;\n\t\t\t\tthis.ctx.moveTo(feature.x + r, feature.y);\n\t\t\t\tthis.ctx.arc(feature.x, feature.y, r, 0, 2 * Math.PI, false);\n\t\t\t}\n\t\t\tthis.ctx.stroke();\n\t\t}\n\n\t\tthis.ctx.restore();\n\n\t\t// Debug info\n\t\t// this.ctx.fillStyle = \"#CCCCCC\";\n\t\t// this.ctx.fillText(vectors.length.toString(), 8, 16);\n\t}\n\n\tanimate(now) {\n\t\tlet dt, dt_s;\n\n\t\trequestAnimationFrame(this.animate.bind(this));\n\n\t\tif (this.realTime) {\n\t\t\t// let now = Date.now();\n\t\t\tdt = now - (this._time || now);\n\t\t\tthis._time = now;\n\t\t\tdt_s = this.speed * dt / 1000;\n\t\t} else {\n\t\t\tdt_s = this.speed / 60;\n\t\t}\n\n\t\t// Add a stream until there are this.streamCount streams\t\n\t\twhile (this.streamlines.length < this.streamCount) {\n\t\t\tlet x = Math.random() * this.viewbox.width + this.viewbox.left;\n\t\t\tlet y = Math.random() * this.viewbox.height + this.viewbox.bottom;\n\t\t\tthis.streamlines.push(new Streamline(x, y));\n\t\t}\n\t\t\n\t\t// Remove a stream until there are only this.streamCount streams left\n\t\twhile (this.streamlines.length > this.streamCount) {\n\t\t\tthis.streamlines.pop();\n\t\t}\n\n\t\t// Skip update and draw if paused\n\t\tif (!this.paused) {\n\t\t\tthis.applyFeatures(dt_s);\n\t\t\tthis.draw(dt_s);\n\t\t\tthis.update(dt_s);\n\t\t}\n\t}\n\n\ttoggleState() {\n\t\tif (!this.running) {\n\t\t\trequestAnimationFrame(this.animate.bind(this));\n\t\t\tthis.running = true;\n\t\t} else {\n\t\t\t// this.paused = !this.paused;\n\t\t}\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/StreamField.js\n **/","\"use strict\";\n\n// import Vec2 from './Vec2.js';\n\nexport default class FieldFeature {\n\tconstructor(properties) {\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t\t// this.pos = new Vec2();\n\t\tthis.strength = 1;\n\t\tthis.vx = 0;\n\t\tthis.vy = 0;\n\t\t// this.vel = new Vec2();\n\t\tthis.enabled = true;\n\n\t\tthis.Fx = function (x, y) { return 0; };\n\t\tthis.Fy = function (x, y) { return 0; };\n\n\t\tif (typeof properties === \"object\") {\n\t\t\tthis.strength = properties.hasOwnProperty(\"strength\") ? properties.strength : this.strength;\n\t\t\tthis.Fx = properties.hasOwnProperty(\"Fx\") ? properties.Fx : this.Fx;\n\t\t\tthis.Fy = properties.hasOwnProperty(\"Fy\") ? properties.Fy : this.Fy;\n\t\t\tthis.x = properties.hasOwnProperty(\"x\") ? properties.x : this.x;\n\t\t\tthis.y = properties.hasOwnProperty(\"y\") ? properties.y : this.y;\n\t\t\tthis.enabled = properties.hasOwnProperty(\"enabled\") ? properties.enabled : this.enabled;\n\t\t}\n\t}\n\n\tgetvx(x, y) {\n\t\treturn this.Fx.call(this, x - this.x, y - this.y);\n\t}\n\n\tgetvy(x, y) {\n\t\treturn this.Fy.call(this, x - this.x, y - this.y);\n\t}\n\n\tsetOrigin(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t}\n\n\tsetStrength(s) {\n\t\tthis.strength = s;\n\t\treturn this;\n\t}\n\n\tclone() {\n\t\treturn new FieldFeature({ Fx: this.Fx, Fy: this.Fy, strength: this.strength });\n\t}\n\n\tupdate(dt) {\n\t\tthis.x += this.vx * dt;\n\t\tthis.y += this.vy * dt;\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/FieldFeature.js\n **/","\"use strict\";\n\nimport FieldFeature from './FieldFeature.js';\n// import Vec2 from './Vec2.js';\n\nexport default class Streamline {\n\tconstructor(x, y) {\n\t\t// this.mass = 0.001;\n\t\tthis.timestamp = Date.now();\n\t\tthis.scale = 120;\n\t\tthis.x = typeof x !== \"number\" ? Math.random() - 0.5 : x;\n\t\tthis.y = typeof x !== \"number\" ? Math.random() - 0.5 : y;\n\t\tthis.x_last = this.x;\n\t\tthis.y_last = this.y;\n\t\tthis.vx = 0;\n\t\tthis.vy = 0;\n\t\tthis.ax = 0;\n\t\tthis.ay = 0;\n\t}\n\n\tapplyFeatures(features) {\n\t\tif (features instanceof FieldFeature) {\n\t\t\tthis.vx += features.strength * features.getvx(this.x, this.y);\n\t\t\tthis.vy += features.strength * features.getvy(this.x, this.y);\n\t\t} else {\n\t\t\tfor (let f = features.length - 1; f >= 0; f--) {\n\t\t\t\tlet feature = features[f];\n\t\t\t\tif (feature.enabled) {\n\t\t\t\t\tthis.vx += feature.strength * feature.getvx(this.x, this.y);\n\t\t\t\t\tthis.vy += feature.strength * feature.getvy(this.x, this.y);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tupdate(dt, dt_last) {\n\t\tlet dx = this.x - this.x_last;\n\t\tlet dy = this.y - this.y_last;\n\t\tthis.x_last = this.x;\n\t\tthis.y_last = this.y;\n\t\t// let dt_ratio = dt / dt_last;\n\t\tlet dt_ratio = 1;\n\n\t\t// Time-corrected Verlet integration\n\t\t// this.x += dx * dt_ratio + this.ax * dt * dt;\n\t\t// this.y += dy * dt_ratio + this.ay * dt * dt;\n\t\t// this.vx = dx * dt;\n\t\t// this.vy = dy * dt;\n\n\t\t// Euler integration\n\t\t// this.vx += this.ax * dt;\n\t\t// this.vy += this.ay * dt;\n\t\t// this.x += this.vx * dt;\n\t\t// this.y += this.vy * dt;\n\n\t\t// No integration?\n\t\tthis.x += this.vx * dt;\n\t\tthis.y += this.vy * dt;\n\n\t\t// this.vx = 0;\n\t\t// this.vy = 0;\n\t}\n\n\tdraw() {\n\t\t// this.ctx.moveTo(\n\t\t// \tstream.x * w,\n\t\t// \tstream.y * h\n\t\t// );\n\t\t// this.ctx.lineTo(\n\t\t// \t(stream.x + stream.vx) * w,\n\t\t// \t(stream.y + stream.vy) * h\n\t\t// );\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/Streamline.js\n **/"],"sourceRoot":""}